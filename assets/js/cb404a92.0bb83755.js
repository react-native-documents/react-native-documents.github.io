"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[548],{1620:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var t=o(4848),i=o(8453);const r={sidebar_position:2},s="Migrating from the old document-picker",c={id:"sponsor-only/migration",title:"Migrating from the old document-picker",description:"The new package has a new name (@react-native-documents/picker), so you need to update your import statements. You also need to tell your package manager where to find the new package. This is covered in the installation guide.",source:"@site/docs/sponsor-only/migration.md",sourceDirName:"sponsor-only",slug:"/sponsor-only/migration",permalink:"/docs/sponsor-only/migration",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"guidesSidebar",previous:{title:"Introduction",permalink:"/docs/sponsor-only/intro"},next:{title:"Document Picker",permalink:"/docs/category/document-picker"}},a={},l=[{value:"Migrating your code",id:"migrating-your-code",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"migrating-from-the-old-document-picker",children:"Migrating from the old document-picker"}),"\n",(0,t.jsxs)(n.p,{children:["The new package has a new name (",(0,t.jsx)(n.code,{children:"@react-native-documents/picker"}),"), so you need to update your import statements. You also need to tell your package manager where to find the new package. This is covered in the ",(0,t.jsx)(n.a,{href:"/docs/install#accessing-the-private-packages-for-sponsors",children:"installation guide"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"migrating-your-code",children:"Migrating your code"}),"\n",(0,t.jsx)(n.p,{children:"Good news: You need to make only a few changes:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"update import statements"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { ... } from 'react-native-document-picker'\n"})}),"\n",(0,t.jsx)(n.p,{children:"becomes"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { ... } from '@react-native-documents/picker'\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["remove ",(0,t.jsx)(n.code,{children:"pickSingle"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Replace ",(0,t.jsx)(n.code,{children:"pickSingle"})," with ",(0,t.jsx)(n.code,{children:"pick"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const result = await pickSingle(options)\n"})}),"\n",(0,t.jsx)(n.p,{children:"becomes:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const [result] = await pick(options)\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["replace ",(0,t.jsx)(n.code,{children:"copyTo"})," with ",(0,t.jsx)(n.a,{href:"/docs/sponsor-only/picker/import-mode#keepLocalCopy",children:(0,t.jsx)(n.code,{children:"keepLocalCopy"})})]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["This change makes your app more responsive: previously you'd use the ",(0,t.jsx)(n.code,{children:"copyTo"})," option and before the returned ",(0,t.jsx)(n.code,{children:"Promise"})," resolved, you needed to wait not only for the user to pick the file, but also for the file to be copied to your app's directory. For large files or with slow network, this could be a problem that you, as a dev don't see, but your users do."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const localCopy = await pick({\n  copyTo: 'documentDirectory',\n})\n"})}),"\n",(0,t.jsx)(n.p,{children:"becomes"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const [file] = await pick()\n\nconst [localCopy] = await keepLocalCopy({\n  files: [\n    {\n      uri: file.uri,\n      fileName: file.name ?? 'fallbackName',\n    },\n  ],\n  destination: 'documentDirectory',\n})\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>c});var t=o(6540);const i={},r=t.createContext(i);function s(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);