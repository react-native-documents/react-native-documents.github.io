"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[672],{3526:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>c,toc:()=>a});var i=n(5893),o=n(1151);const r={},l="Virtual files",c={id:"picker/virtual-files",title:"Virtual files",description:"Virtual files are an Android-only concept. You have almost surely encountered them in your Google Drive - all the Google Docs, Sheets, Presentations and etc. are virtual files and cannot normally be selected.",source:"@site/docs/picker/virtual-files.md",sourceDirName:"picker",slug:"/picker/virtual-files",permalink:"/docs/picker/virtual-files",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"guidesSidebar",previous:{title:"Directory Picker",permalink:"/docs/picker/directory-picker"},next:{title:"Viewer module",permalink:"/docs/viewer"}},s={},a=[];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"virtual-files",children:"Virtual files"}),"\n",(0,i.jsx)(t.p,{children:"Virtual files are an Android-only concept. You have almost surely encountered them in your Google Drive - all the Google Docs, Sheets, Presentations and etc. are virtual files and cannot normally be selected."}),"\n",(0,i.jsxs)(t.p,{children:["Pass ",(0,i.jsx)(t.code,{children:"allowVirtualFiles: true"})," to the ",(0,i.jsx)(t.code,{children:"pick"})," function to allow the user to pick virtual files in both modes."]}),"\n",(0,i.jsxs)(t.p,{children:["When a virtual file is picked, the ",(0,i.jsx)(t.code,{children:"isVirtual"})," field of the picked file will be ",(0,i.jsx)(t.code,{children:"true"}),", and the ",(0,i.jsx)(t.code,{children:"convertibleToMimeTypes"})," field will contain an array of MIME types that the virtual file can be converted to (for example, Google docs files can be converted to ",(0,i.jsx)(t.code,{children:"application/pdf"}),")."]}),"\n",(0,i.jsxs)(t.p,{children:['If you want to "convert" the virtual file into a local file, use the ',(0,i.jsx)(t.code,{children:"keepLocalCopy"})," function and pass a value from the ",(0,i.jsx)(t.code,{children:"convertibleToMimeTypes"})," array to the ",(0,i.jsx)(t.code,{children:"convertVirtualFileToType"})," parameter."]}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"Virtual files are supported on Android 7.0 and above."})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-tsx",metastring:'title="Example.tsx"',children:"<Button\n  title=\"import virtual file (such as a document from GDrive)\"\n  onPress={async () => {\n    const [file] = await pick({\n      allowVirtualFiles: true,\n    })\n    const { name, uri: pickedUri, convertibleToMimeTypes } = file\n\n    const [copyResult] = await keepLocalCopy({\n      files: [\n        {\n          uri: pickedUri,\n          fileName: name,\n          convertVirtualFileToType: convertibleToMimeTypes[0],\n        },\n      ],\n      destination: 'cachesDirectory',\n    })\n    if (copyResult.status === 'success') {\n      const localCopy = copyResult.localUri\n      // do something with the local copy\n    }\n  }}\n/>\n"})}),"\n",(0,i.jsx)(t.p,{children:"For local viewing or editing of the file you'll need to rely on the app that provided the virtual file (for example, Google Docs app for Google Docs files). The Document Viewer module can help you with that."}),"\n",(0,i.jsxs)(t.p,{children:["Learn more about virtual files in ",(0,i.jsx)(t.a,{href:"https://www.youtube.com/watch?v=4h7yCZt231Y",children:"this video"}),"."]})]})}function u(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>c,a:()=>l});var i=n(7294);const o={},r=i.createContext(o);function l(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);